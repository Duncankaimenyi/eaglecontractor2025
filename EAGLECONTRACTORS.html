<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Eagle Contractors - Premier construction company delivering excellence in every structure since 2012. Residential, commercial, and infrastructure projects.">
    <meta name="keywords" content="construction, contractors, building, renovation, construction company, architecture, project management">
    <meta name="author" content="Eagle Contractors">
    
    <!-- Open Graph / Social Media Meta Tags -->
    <meta property="og:title" content="Eagle Contractors | Excellence in Construction">
    <meta property="og:description" content="Delivering excellence in construction, renovation, and design since 2012.">
    <meta property="og:image" content="https://images.unsplash.com/photo-1541888946425-d81bb19240f5?ixlib=rb-1.2.1&auto=format&fit=crop&w=1200&q=80">
    <meta property="og:url" content="https://eaglecontractors.com">
    <meta property="og:type" content="website">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Eagle Contractors">
    <meta name="twitter:description" content="Premier construction company delivering excellence since 2012.">
    
<!-- Favicon -->  <h1></h1>

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üèóÔ∏è</text></svg>">
    
    <title>Eagle Contractors | Excellence in Construction</title>
    
    <!-- Fonts & Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;800&family=Open+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
    
    <!-- EmailJS -->
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>

    <!-- Firebase (compat SDKs for simple integration) -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    
    <style>
        /* ===== CSS RESET & VARIABLES ===== */
        :root {
            --primary: #004080;
            --primary-dark: #002d5a;
            --secondary: #ffc107;
            --secondary-dark: #e6b800;
            --accent: #3498db;
            --light: #f8f9fa;
            --dark: #212529;
            --gray: #6c757d;
            --light-gray: #e9ecef;
            --success: #28a745;
            --warning: #ffc107;
            --danger: #dc3545;
            --info: #17a2b8;
            
            --shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            --shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.15);
            --transition: all 0.3s ease;
            --border-radius: 8px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
            font-size: 16px;
        }

        body {
            font-family: 'Open Sans', sans-serif;
            line-height: 1.7;
            color: var(--dark);
            background-color: var(--light);
            overflow-x: hidden;
        }

        h1, h2, h3, h4, h5, h6 {
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            line-height: 1.2;
            margin-bottom: 1rem;
        }

        h1 { font-size: 3.5rem; }
        h2 { font-size: 2.8rem; }
        h3 { font-size: 2rem; }
        h4 { font-size: 1.5rem; }

        @media (max-width: 768px) {
            h1 { font-size: 2.5rem; }
            h2 { font-size: 2rem; }
            h3 { font-size: 1.5rem; }
        }

        a {
            text-decoration: none;
            color: inherit;
            transition: var(--transition);
        }

        ul, ol {
            list-style-position: inside;
            margin-bottom: 1.5rem;
        }

        li {
            margin-bottom: 0.5rem;
        }

        img {
            max-width: 100%;
            height: auto;
            display: block;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .section {
            padding: 100px 0;
        }

        .section-title {
            text-align: center;
            margin-bottom: 60px;
            position: relative;
        }

        .section-title h2 {
            color: var(--primary);
            margin-bottom: 15px;
        }

        .section-title p {
            color: var(--gray);
            font-size: 1.1rem;
            max-width: 700px;
            margin: 0 auto;
        }

        .section-title::after {
            content: '';
            position: absolute;
            width: 80px;
            height: 4px;
            background: var(--secondary);
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
        }

        .btn {
            display: inline-block;
            padding: 14px 32px;
            background: var(--secondary);
            color: var(--primary);
            font-family: 'Montserrat', sans-serif;
            font-weight: 600;
            font-size: 1rem;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            text-align: center;
        }

        .btn:hover {
            background: var(--secondary-dark);
            transform: translateY(-3px);
            box-shadow: var(--shadow-lg);
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background: var(--primary-dark);
        }

        .btn-block {
            display: block;
            width: 100%;
        }

        /* ===== HEADER & NAVIGATION ===== */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 1000;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);
            transition: var(--transition);
        }

        .header.scrolled {
            background: rgba(255, 255, 255, 0.98);
            box-shadow: 0 5px 30px rgba(0, 0, 0, 0.15);
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo-icon {
            color: var(--secondary);
            font-size: 2rem;
        }

        .nav-menu {
            display: flex;
            gap: 30px;
        }

        .nav-link {
            font-weight: 600;
            font-size: 1rem;
            position: relative;
            padding: 5px 0;
        }

        .nav-link::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            background: var(--secondary);
            bottom: 0;
            left: 0;
            transition: var(--transition);
        }

        .nav-link:hover::after {
            width: 100%;
        }

        .auth-buttons {
            display: flex;
            gap: 10px;
        }

        .auth-btn {
            padding: 8px 20px;
            border-radius: var(--border-radius);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            font-size: 0.9rem;
        }

        .login-btn {
            background: transparent;
            color: var(--primary);
            border: 2px solid var(--primary);
        }

        .login-btn:hover {
            background: var(--primary);
            color: white;
        }

        .register-btn {
            background: var(--primary);
            color: white;
            border: 2px solid var(--primary);
        }

        .register-btn:hover {
            background: var(--primary-dark);
        }

        .hamburger {
            display: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--primary);
        }

        /* ===== HERO SECTION ===== */
        .hero-section {
            min-height: 90vh;
            background: linear-gradient(rgba(0, 32, 64, 0.85), rgba(0, 32, 64, 0.9)), 
                        url('https://images.unsplash.com/photo-1541888946425-d81bb19240f5?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="Our Construction Team">')no-repeat center center/cover;
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            display: flex;
            align-items: center;
            color: white;
            padding-top: 40px;
            position: relative;
            overflow: hidden;
        }

        .hero-content {
            max-width: 800px;
            text-align: center;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .hero-title {
            font-size: 3.5rem;
            margin-bottom: 20px;
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 1s forwards 0.3s;
        }

        .hero-subtitle {
            font-size: 1.5rem;
            margin-bottom: 40px;
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 1s forwards 0.6s;
            font-weight: 300;
        }

        .hero-cta {
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 1s forwards 0.9s;
        }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* ===== ABOUT SECTION ===== */
        .about-section {
            background: white;
        }

        .about-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 60px;
            align-items: center;
        }

        .about-image {
            position: relative;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow-lg);
        }

        .about-image img {
            width: 100%;
            height: auto;
            transition: transform 0.5s ease;
        }

        .about-image:hover img {
            transform: scale(1.05);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-top: 40px;
        }

        .stat-item {
            text-align: center;
            padding: 25px 15px;
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            transition: var(--transition);
        }

        .stat-item:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 800;
            color: var(--primary);
            margin-bottom: 10px;
        }

        .stat-label {
            color: var(--gray);
            font-size: 0.9rem;
            font-weight: 600;
        }

        /* ===== SERVICES SECTION ===== */
        .services-section {
            background: var(--light);
        }

        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
        }

        .service-card {
            background: white;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }

        .service-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-lg);
        }

        .service-icon {
            height: 200px;
            overflow: hidden;
        }

        .service-icon img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .service-card:hover .service-icon img {
            transform: scale(1.1);
        }

        .service-content {
            padding: 30px;
        }

        .service-title {
            color: var(--primary);
            margin-bottom: 15px;
        }

        /* Responsive grid for service "Learn More" modal content */
        .service-modal-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
        }

        @media (max-width: 768px) {
            .service-modal-grid { grid-template-columns: 1fr; gap: 20px; }
            .service-icon { height: 140px; }
            .service-content { padding: 20px; }
            .service-card .btn { padding: 12px 16px; font-size: 0.95rem; }
        }

        /* ===== PROJECTS SECTION ===== */
        .projects-section {
            background: white;
        }

        .projects-filter {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 40px;
        }

        .filter-btn {
            padding: 10px 25px;
            background: var(--light);
            border: 2px solid var(--light-gray);
            border-radius: 30px;
            font-family: 'Montserrat', sans-serif;
            font-weight: 600;
            color: var(--gray);
            cursor: pointer;
            transition: var(--transition);
        }

        .filter-btn:hover,
        .filter-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .projects-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 30px;
        }

        .project-card {
            background: white;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
            cursor: pointer;
        }

        .project-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-lg);
        }

        .project-image {
            height: 250px;
            overflow: hidden;
        }

        .project-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .project-card:hover .project-image img {
            transform: scale(1.1);
        }

        .project-content {
            padding: 25px;
        }

        .project-title {
            color: var(--primary);
            margin-bottom: 10px;
        }

        .project-category {
            display: inline-block;
            padding: 5px 15px;
            background: var(--light-gray);
            color: var(--primary);
            border-radius: 30px;
            font-size: 0.85rem;
            font-weight: 600;
            margin-top: 10px;
        }

        /* ===== TESTIMONIALS SECTION ===== */
        .testimonials-section {
            background: var(--light);
        }

        .testimonials-slider {
            max-width: 800px;
            margin: 0 auto;
            position: relative;
            overflow: hidden;
        }

        .testimonials-track {
            display: flex;
            transition: transform 0.5s ease;
        }

        .testimonial-slide {
            min-width: 100%;
            padding: 20px;
        }

        .testimonial-card {
            background: white;
            padding: 40px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            text-align: center;
        }

        .client-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            overflow: hidden;
            margin: 0 auto 20px;
            border: 3px solid var(--secondary);
        }

        .client-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .testimonial-rating {
            color: var(--secondary);
            font-size: 1.2rem;
            margin-bottom: 20px;
        }

        .testimonial-text {
            font-size: 1.1rem;
            font-style: italic;
            color: var(--gray);
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .client-name {
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 5px;
        }

        .client-company {
            color: var(--gray);
            font-size: 0.9rem;
        }

        .slider-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 30px;
        }

        .slider-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--primary);
            color: white;
            border: none;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }

        .slider-btn:hover {
            background: var(--primary-dark);
            transform: scale(1.1);
        }

        .slider-dots {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
        }

        .slider-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--light-gray);
            cursor: pointer;
            transition: var(--transition);
        }

        .slider-dot.active {
            background: var(--primary);
            transform: scale(1.2);
        }

        /* ===== CONTACT SECTION ===== */
        .contact-section {
            background: white;
        }

        .contact-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 60px;
        }

        .contact-info h3 {
            color: var(--primary);
            margin-bottom: 30px;
        }

        .contact-details {
            margin-bottom: 30px;
        }

        .contact-item {
            display: flex;
            align-items: flex-start;
            gap: 15px;
            margin-bottom: 25px;
        }

        .contact-icon {
            width: 45px;
            height: 45px;
            background: var(--primary);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            flex-shrink: 0;
        }

        .contact-text h4 {
            margin-bottom: 5px;
            color: var(--dark);
        }

        .contact-text p {
            color: var(--gray);
        }

        .social-links {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }

        .social-link {
            width: 45px;
            height: 45px;
            background: var(--primary);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            transition: var(--transition);
        }

        .social-link:hover {
            background: var(--secondary);
            color: var(--primary);
            transform: translateY(-5px);
        }

        .contact-form {
            background: var(--light);
            padding: 40px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--dark);
        }

        .form-control {
            width: 100%;
            padding: 14px;
            border: 2px solid var(--light-gray);
            border-radius: var(--border-radius);
            font-family: 'Open Sans', sans-serif;
            font-size: 1rem;
            transition: var(--transition);
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(0, 64, 128, 0.1);
        }

        .form-textarea {
            min-height: 150px;
            resize: vertical;
        }

        /* ===== FOOTER ===== */
        .footer {
            background: var(--primary);
            color: white;
            padding: 70px 0 20px;
        }

        .footer-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 50px;
        }

        .footer-logo {
            font-size: 1.8rem;
            font-weight: 800;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .footer-logo .logo-icon {
            color: var(--secondary);
        }

        .footer-about p {
            opacity: 0.8;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .footer-links h4,
        .footer-newsletter h4 {
            margin-bottom: 25px;
            position: relative;
            padding-bottom: 10px;
        }

        .footer-links h4::after,
        .footer-newsletter h4::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 40px;
            height: 3px;
            background: var(--secondary);
        }

        .footer-links ul {
            list-style: none;
        }

        .footer-links li {
            margin-bottom: 12px;
        }

        .footer-links a {
            opacity: 0.8;
            transition: var(--transition);
        }

        .footer-links a:hover {
            opacity: 1;
            padding-left: 5px;
            color: var(--secondary);
        }

        .newsletter-form {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .newsletter-input {
            padding: 14px;
            border: none;
            border-radius: var(--border-radius);
            font-family: 'Open Sans', sans-serif;
            font-size: 1rem;
        }

        .footer-bottom {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .footer-bottom p {
            opacity: 0.7;
            font-size: 0.9rem;
        }

        .footer-bottom-links {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 15px;
        }

        .footer-bottom-links a {
            opacity: 0.7;
            font-size: 0.9rem;
        }

        .footer-bottom-links a:hover {
            opacity: 1;
            color: var(--secondary);
        }

        /* ===== MODALS & POPUPS ===== */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(5px);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            padding: 20px;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal {
            background: white;
            border-radius: var(--border-radius);
            width: 100%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            animation: slideUp 0.3s ease;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .modal-large {
            max-width: 900px;
        }

        /* ===== Project Details (Responsive) ===== */
        .details-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            align-items: start;
        }

        .details-image img {
            width: 100%;
            height: auto;
            max-height: 60vh;
            object-fit: cover;
            border-radius: var(--border-radius);
            display: block;
        }

        .details-content h3 {
            color: var(--primary);
            margin-bottom: 15px;
        }

        .details-box {
            background: var(--light);
            padding: 20px;
            border-radius: var(--border-radius);
            margin-bottom: 20px;
        }

        .details-attrs {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .details-actions {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        /* Smaller screens: stack columns and constrain modal width */
        @media (max-width: 768px) {
            .modal-large { max-width: 95%; }
            .details-grid { grid-template-columns: 1fr; gap: 20px; }
            .details-attrs { grid-template-columns: 1fr; }
            .details-image img { max-height: 40vh; }
            .modal { padding: 15px; }
        }

        .modal-header {
            padding: 30px 30px 20px;
            border-bottom: 1px solid var(--light-gray);
            position: relative;
        }

        .modal-title {
            color: var(--primary);
            margin: 0;
        }

        .modal-close {
            position: absolute;
            top: 25px;
            right: 25px;
            background: none;
            border: none;
            font-size: 1.8rem;
            color: var(--gray);
            cursor: pointer;
            transition: var(--transition);
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }

        .modal-close:hover {
            color: var(--primary);
            background: var(--light-gray);
        }

        .modal-body {
            padding: 30px;
        }

        /* Image Gallery Modal */
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .gallery-item {
            border-radius: var(--border-radius);
            overflow: hidden;
            cursor: pointer;
            transition: var(--transition);
        }

        .gallery-item:hover {
            transform: scale(1.05);
        }

        .gallery-item img {
            width: 100%;
            height: 150px;
            object-fit: cover;
        }

        /* Image Viewer Modal */
        .image-viewer .modal {
            max-width: 90%;
            max-height: 90%;
            background: transparent;
            box-shadow: none;
        }

        .image-viewer img {
            width: 100%;
            max-height: 80vh;
            object-fit: contain;
            border-radius: var(--border-radius);
        }

        /* Auth Modal Tabs */
        .auth-tabs {
            display: flex;
            border-bottom: 2px solid var(--light-gray);
            margin-bottom: 30px;
        }

        .auth-tab {
            flex: 1;
            padding: 15px;
            background: none;
            border: none;
            font-family: 'Montserrat', sans-serif;
            font-weight: 600;
            font-size: 1.1rem;
            color: var(--gray);
            cursor: pointer;
            transition: var(--transition);
            position: relative;
        }

        .auth-tab.active {
            color: var(--primary);
        }

        .auth-tab.active::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 100%;
            height: 3px;
            background: var(--primary);
        }

        .auth-content {
            display: none;
        }

        .auth-content.active {
            display: block;
        }

        /* ===== BACK TO TOP ===== */
        .back-to-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            background: var(--primary);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            cursor: pointer;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
            z-index: 999;
            box-shadow: var(--shadow-lg);
        }

        .back-to-top.visible {
            opacity: 1;
            visibility: visible;
        }

        .back-to-top:hover {
            background: var(--primary-dark);
            transform: translateY(-5px);
        }

        /* ===== TOAST NOTIFICATIONS ===== */
        .toast {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: var(--primary);
            color: white;
            padding: 15px 25px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-lg);
            z-index: 10000;
            opacity: 0;
            transition: transform 0.3s, opacity 0.3s;
            max-width: 500px;
            width: 90%;
            text-align: center;
        }

        .toast.show {
            transform: translateX(-50%) translateY(0);
            opacity: 1;
        }

        .toast.success {
            background: var(--success);
        }

        .toast.error {
            background: var(--danger);
        }

        .toast.info {
            background: var(--info);
        }

        .toast.warning {
            background: var(--warning);
            color: var(--dark);
        }

        /* ===== LEGAL PAGES ===== */
        .legal-header {
            padding: 150px 0 80px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            text-align: center;
        }

        .legal-header h1 {
            color: white;
            margin-bottom: 20px;
        }

        .last-updated {
            background: rgba(255, 255, 255, 0.1);
            display: inline-block;
            padding: 10px 25px;
            border-radius: 30px;
            margin-top: 20px;
            font-size: 0.9rem;
        }

        .legal-content {
            padding: 80px 0;
            background: white;
        }

        .legal-section {
            margin-bottom: 60px;
            padding-bottom: 40px;
            border-bottom: 1px solid var(--light-gray);
        }

        .legal-section:last-child {
            border-bottom: none;
        }

        .legal-section h2 {
            color: var(--primary);
            margin-bottom: 20px;
            padding-bottom: 15px;
            position: relative;
        }

        .legal-section h2::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 60px;
            height: 3px;
            background: var(--secondary);
        }

        .legal-section h3 {
            color: var(--dark);
            margin-top: 30px;
            margin-bottom: 15px;
        }

        .info-box {
            background: var(--light);
            border-left: 4px solid var(--secondary);
            padding: 25px;
            margin: 25px 0;
            border-radius: 0 var(--border-radius) var(--border-radius) 0;
        }

        .info-box.warning {
            border-left-color: var(--danger);
            background: #fff5f5;
        }

        .info-box.success {
            border-left-color: var(--success);
            background: #f0fff4;
        }

        /* ===== RESPONSIVE DESIGN ===== */
        @media (max-width: 992px) {
            .section {
                padding: 80px 0;
            }
            
            .hero-title {
                font-size: 2.8rem;
            }
            
            .hero-subtitle {
                font-size: 1.3rem;
            }
        }

        @media (max-width: 768px) {
            .hamburger {
                display: block;
            }

            .nav-menu {
                position: fixed;
                top: 80px;
                left: -100%;
                width: 100%;
                height: calc(100vh - 80px);
                background: white;
                flex-direction: column;
                align-items: center;
                padding: 50px 20px;
                transition: var(--transition);
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
                overflow-y: auto;
            }

            .nav-menu.active {
                left: 0;
            }

            .auth-buttons {
                flex-direction: column;
                width: 100%;
                max-width: 300px;
                margin-top: 30px;
            }

            .hero-title {
                font-size: 2.2rem;
            }

            .hero-subtitle {
                font-size: 1.1rem;
            }

            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .contact-grid {
                gap: 40px;
            }

            .footer-grid {
                gap: 40px;
            }

            .modal {
                max-height: 85vh;
            }

            .gallery-grid {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            }
        }

        @media (max-width: 576px) {
            .section {
                padding: 60px 0;
            }

            .section-title h2 {
                font-size: 2rem;
            }

            .hero-title {
                font-size: 1.8rem;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }

            .contact-form {
                padding: 25px;
            }

            .modal-body {
                padding: 20px;
            }

            .legal-header {
                padding: 120px 0 60px;
            }

            .legal-content {
                padding: 60px 0;
            }
        }

        /* ===== UTILITY CLASSES ===== */
        .text-center { text-align: center; }
        .text-primary { color: var(--primary); }
        .text-secondary { color: var(--secondary); }
        .text-success { color: var(--success); }
        .text-danger { color: var(--danger); }
        .text-gray { color: var(--gray); }
        .text-light { color: var(--light-gray); }

        .mb-1 { margin-bottom: 0.5rem; }
        .mb-2 { margin-bottom: 1rem; }
        .mb-3 { margin-bottom: 1.5rem; }
        .mb-4 { margin-bottom: 2rem; }
        .mb-5 { margin-bottom: 3rem; }

        .mt-1 { margin-top: 0.5rem; }
        .mt-2 { margin-top: 1rem; }
        .mt-3 { margin-top: 1.5rem; }
        .mt-4 { margin-top: 2rem; }
        .mt-5 { margin-top: 3rem; }

        .py-1 { padding-top: 0.5rem; padding-bottom: 0.5rem; }
        .py-2 { padding-top: 1rem; padding-bottom: 1rem; }
        .py-3 { padding-top: 1.5rem; padding-bottom: 1.5rem; }
        .py-4 { padding-top: 2rem; padding-bottom: 2rem; }
        .py-5 { padding-top: 3rem; padding-bottom: 3rem; }

        .d-none { display: none !important; }
        .d-block { display: block !important; }
        .d-flex { display: flex !important; }
        .d-grid { display: grid !important; }

        .w-100 { width: 100%; }
        .h-100 { height: 100%; }

        /* ===== PRINT STYLES ===== */
        @media print {
            .header,
            .footer,
            .back-to-top,
            .btn,
            .modal-overlay,
            .slider-controls,
            .projects-filter {
                display: none !important;
            }

            body {
                font-size: 12pt;
                line-height: 1.5;
            }

            .hero-section {
                min-height: auto;
                padding: 20px 0;
                background: white !important;
                color: black !important;
            }

            .section {
                padding: 20px 0;
                page-break-inside: avoid;
            }

            .container {
                max-width: 100%;
            }

            a {
                color: black;
                text-decoration: underline;
            }
        }

        /* ===== ANIMATIONS ===== */
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .float {
            animation: float 3s ease-in-out infinite;
        }
    </style>
</head>
<body>
    <!-- Main Navigation -->
    <header class="header" id="mainHeader">
        <div class="container">
            <div class="header-container">
                <a href="#" class="logo">
                    <span class="logo-icon">üèóÔ∏è</span>
                    <span>Eagle Contractors</span>
                </a>
                
                <div class="hamburger" id="hamburger">
                    <i class="fas fa-bars"></i>
                </div>
                
                <nav class="nav-menu" id="navMenu">
                    <a href="#home" class="nav-link active">Home</a>
                    <a href="#about" class="nav-link">About</a>
                    <a href="#services" class="nav-link">Services</a>
                    <a href="#projects" class="nav-link">Projects</a>
                    <a href="#testimonials" class="nav-link">Testimonials</a>
                    <a href="#contact" class="nav-link">Contact</a>
                    
                    <div class="auth-buttons">
                        <button class="auth-btn login-btn" onclick="showAuthModal('login')">
                            <i class="fas fa-sign-in-alt"></i> Login
                        </button>
                        <button class="auth-btn register-btn" onclick="showAuthModal('register')">
                            <i class="fas fa-user-plus"></i> Register
                        </button>
                    </div>
                </nav>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main id="mainContent">
        <!-- Home/Hero Section -->
        <section id="home" class="hero-section">
            <div class="container">
                <div class="hero-content">
                    <h1 class="hero-title">Building Excellence Since 2012</h1>
                    <p class="hero-subtitle">
                        Delivering exceptional construction, renovation, and design services with uncompromising quality and professionalism.
                    </p>
                    <div class="hero-cta">
                        <a href="#contact" class="btn btn-primary">Get Free Consultation</a>
                        <a href="#projects" class="btn" style="margin-left: 15px; background: rgba(255,255,255,0.1); color: white; border: 2px solid white;">
                            View Our Projects
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <!-- About Section -->
        <section id="about" class="section about-section">
            <div class="container">
                <div class="section-title">
                    <h2>About Eagle Contractors</h2>
                    <p>With over a decade of experience, we've built a reputation for excellence in the construction industry</p>
                </div>
                
                <div class="about-grid">
                    <div class="about-image">
                        <img src="eaglecontractorsimages/bg.jpeg" alt="Our Construction Team">
                        <div class="stats-grid">
                            <div class="stat-item">
                                <div class="stat-number" id="yearsExp">10+</div>
                                <div class="stat-label">Years Experience</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-number" id="projectsDone">250+</div>
                                <div class="stat-label">Projects Completed</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-number" id="clientsServed">150+</div>
                                <div class="stat-label">Happy Clients</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="about-content">
                        <h3>Your Trusted Construction Partner</h3>
                        <p class="mb-3">
                            Established in 2012, Eagle Contractors has grown to become one of Kenya's premier construction firms. 
                            We specialize in delivering high-quality construction projects across residential, commercial, and infrastructure sectors.
                        </p>
                        <p class="mb-4">
                            Our team of experienced professionals combines traditional craftsmanship with modern technology to deliver 
                            structures that are not only aesthetically pleasing but also built to last for generations.
                        </p>
                        
                        <h4>Why Choose Us?</h4>
                        <ul class="mb-4">
                            <li><strong>Quality Assurance:</strong> We use only the best materials and maintain strict quality control</li>
                            <li><strong>Timely Delivery:</strong> 95% of our projects are delivered on or before schedule</li>
                            <li><strong>Expert Team:</strong> Certified professionals with decades of combined experience</li>
                            <li><strong>Transparent Pricing:</strong> No hidden costs, clear and detailed quotations</li>
                            <li><strong>Sustainable Practices:</strong> Environmentally conscious construction methods</li>
                        </ul>
                        
                        <div class="d-flex" style="gap: 15px;">
                            <button class="btn btn-primary" onclick="showGalleryModal('about')">
                                <i class="fas fa-images"></i> View Gallery
                            </button>
                            <button class="btn" onclick="downloadBrochure()">
                                <i class="fas fa-download"></i> Download Brochure
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Services Section -->
        <section id="services" class="section services-section">
            <div class="container">
                <div class="section-title">
                    <h2>Our Services</h2>
                    <p>Comprehensive construction solutions tailored to your specific needs and budget</p>
                </div>
                
                <div class="services-grid">
                    <div class="service-card">
                        <div class="service-icon">
                            <img src="https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="Construction">
                        </div>
                        <div class="service-content">
                            <h3 class="service-title">Construction</h3>
                            <p class="mb-3">Complete construction services for residential and commercial buildings, from foundation to finishing.</p>
                            <ul>
                                <li>New building construction</li>
                                <li>Structural work</li>
                                <li>Foundation & framing</li>
                                <li>Final finishes</li>
                            </ul>
                            <button class="btn w-100 mt-3" onclick="showServiceModal('construction')">Learn More</button>
                        </div>
                    </div>
                    
                    <div class="service-card">
                        <div class="service-icon">
                            <img src="eaglecontractorsimages/ronovation.jpeg" alt="Renovation">
                        </div>
                        <div class="service-content">
                            <h3 class="service-title">Renovation</h3>
                            <p class="mb-3">Transform your existing spaces with our expert renovation and remodeling services.</p>
                            <ul>
                                <li>Home renovations</li>
                                <li>Office remodeling</li>
                                <li>Kitchen & bathroom upgrades</li>
                                <li>Structural modifications</li>
                            </ul>
                            <button class="btn w-100 mt-3" onclick="showServiceModal('renovation')">Learn More</button>
                        </div>
                    </div>
                    
                    <div class="service-card">
                        <div class="service-icon">
                            <img src="eaglecontractorsimages/design.jpeg" alt="Design">
                        </div>
                        <div class="service-content">
                            <h3 class="service-title">Architectural Design</h3>
                            <p class="mb-3">Creative and functional architectural designs that bring your vision to life.</p>
                            <ul>
                                <li>Building design</li>
                                <li>3D visualization</li>
                                <li>Space planning</li>
                                <li>Permit assistance</li>
                            </ul>
                            <button class="btn w-100 mt-3" onclick="showServiceModal('design')">Learn More</button>
                        </div>
                    </div>
                    
                    <div class="service-card">
                        <div class="service-icon">
                            <img src="eaglecontractorsimages/projectmanagement.jpeg" alt="Project Management">
                        </div>
                        <div class="service-content">
                            <h3 class="service-title">Project Management</h3>
                            <p class="mb-3">Professional project management ensuring your project stays on time and within budget.</p>
                            <ul>
                                <li>Project planning</li>
                                <li>Budget management</li>
                                <li>Quality control</li>
                                <li>Timeline supervision</li>
                            </ul>
                            <button class="btn w-100 mt-3" onclick="showServiceModal('management')">Learn More</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Projects Section -->
        <section id="projects" class="section projects-section">
            <div class="container">
                <div class="section-title">
                    <h2>Our Projects</h2>
                    <p>Explore our portfolio of successfully completed construction projects</p>
                </div>
                
                <div class="projects-filter" id="projectsFilter">
                    <button class="filter-btn active" data-filter="all">All Projects</button>
                    <button class="filter-btn" data-filter="residential">Residential</button>
                    <button class="filter-btn" data-filter="commercial">Commercial</button>
                    <button class="filter-btn" data-filter="infrastructure">Infrastructure</button>
                    <button class="filter-btn" data-filter="renovation">Renovation</button>
                </div>
 
                <div class="projects-container" id="projectsContainer">
                    <!-- Projects will be loaded dynamically -->
                </div>
                
                <div class="text-center mt-5">
                    <button class="btn btn-primary" onclick="loadMoreProjects()">
                        <i class="fas fa-plus"></i> Load More Projects
                    </button>
                </div>
            </div>
        </section>

        <!-- Testimonials Section -->
        <section id="testimonials" class="section testimonials-section">
            <div class="container">
                <div class="section-title">
                    <h2>Client Testimonials</h2>
                    <p>What our clients say about working with Eagle Contractors</p>
                </div>
                
                <div class="testimonials-slider">
                    <div class="testimonials-track" id="testimonialsTrack">
                        <!-- Testimonials will be loaded dynamically -->
                    </div>
                    
                    <div class="slider-controls">
                        <button class="slider-btn" id="prevBtn">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        <button class="slider-btn" id="nextBtn">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                    
                    <div class="slider-dots" id="sliderDots">
                        <!-- Dots will be added dynamically -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Contact Section -->
        <section id="contact" class="section contact-section">
            <div class="container">
                <div class="section-title">
                    <h2>Contact Us</h2>
                    <p>Get in touch with our team for your construction needs</p>
                </div>
                
                <div class="contact-grid">
                    <div class="contact-info">
                        <h3>Let's Build Together</h3>
                        <p class="mb-4">
                            Ready to start your construction project? Contact us today for a free consultation 
                            and let's discuss how we can bring your vision to life.
                        </p>
                        
                        <div class="contact-details">
                            <div class="contact-item">
                                <div class="contact-icon">
                                    <i class="fas fa-map-marker-alt"></i>
                                </div>
                                <div class="contact-text">
                                    <h4>Our Location</h4>
                                    <p>Westlands, Nairobi, Kenya</p>
                                </div>
                            </div>
                            
                            <div class="contact-item">
                                <div class="contact-icon">
                                    <i class="fas fa-phone-alt"></i>
                                </div>
                                <div class="contact-text">
                                    <h4>Phone Number</h4>
                                    <p>+254 713 723 639</p>
                                    <p>+254 720 123 456</p>
                                </div>
                            </div>
                            
                            <div class="contact-item">
                                <div class="contact-icon">
                                    <i class="fas fa-envelope"></i>
                                </div>
                                <div class="contact-text">
                                    <h4>Email Address</h4>
                                    <p>info@eaglecontractors.com</p>
                                    <p>sales@eaglecontractors.com</p>
                                </div>
                            </div>
                            
                            <div class="contact-item">
                                <div class="contact-icon">
                                    <i class="fas fa-clock"></i>
                                </div>
                                <div class="contact-text">
                                    <h4>Working Hours</h4>
                                    <p>Monday - Friday: 8:00 AM - 6:00 PM</p>
                                    <p>Saturday: 9:00 AM - 2:00 PM</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="social-links">
                            <a href="https://facebook.com" class="social-link" target="_blank" title="Facebook">
                                <i class="fab fa-facebook-f"></i>
                            </a>
                            <a href="https://twitter.com" class="social-link" target="_blank" title="Twitter">
                                <i class="fab fa-twitter"></i>
                            </a>
                            <a href="https://linkedin.com" class="social-link" target="_blank" title="LinkedIn">
                                <i class="fab fa-linkedin-in"></i>
                            </a>
                            <a href="https://instagram.com" class="social-link" target="_blank" title="Instagram">
                                <i class="fab fa-instagram"></i>
                            </a>
                            <a href="https://youtube.com" class="social-link" target="_blank" title="YouTube">
                                <i class="fab fa-youtube"></i>
                            </a>
                        </div>
                    </div>
                    
                    <div class="contact-form">
                        <form id="contactForm">
                            <div class="form-group">
                                <label for="name" class="form-label">Full Name *</label>
                                <input type="text" id="name" class="form-control" placeholder="Enter your name" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="email" class="form-label">Email Address *</label>
                                <input type="email" id="email" class="form-control" placeholder="Enter your email" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="phone" class="form-label">Phone Number</label>
                                <input type="tel" id="phone" class="form-control" placeholder="Enter your phone number">
                            </div>
                            
                            <div class="form-group">
                                <label for="service" class="form-label">Service Interested In</label>
                                <select id="service" class="form-control">
                                    <option value="">Select a service</option>
                                    <option value="construction">Construction</option>
                                    <option value="renovation">Renovation</option>
                                    <option value="design">Architectural Design</option>
                                    <option value="management">Project Management</option>
                                    <option value="consultation">Consultation</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="message" class="form-label">Project Details *</label>
                                <textarea id="message" class="form-control form-textarea" placeholder="Tell us about your project" required></textarea>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Project Budget (KSH)</label>
                                <input type="range" id="budget" class="form-control" min="100000" max="10000000" step="100000" value="5000000">
                                <div class="d-flex justify-content-between mt-1">
                                    <span>100,000</span>
                                    <span id="budgetValue">5,000,000</span>
                                    <span>10,000,000</span>
                                </div>
                            </div>
                            
                            <button type="submit" class="btn btn-primary btn-block">
                                <i class="fas fa-paper-plane"></i> Send Message
                            </button>
                            
                            <p class="text-center mt-3 text-gray" style="font-size: 0.9rem;">
                                By submitting, you agree to our <a href="#privacy" onclick="showLegalPage('privacy')">Privacy Policy</a>
                            </p>
                        </form>
                    </div>
                </div>
                
                <div class="mt-5" style="background: var(--light); padding: 30px; border-radius: var(--border-radius);">
                    <div class="text-center">
                        <h3 class="mb-2">Visit Our Office</h3>
                        <p class="mb-3">Come see us in person to discuss your project requirements</p>
                        <div id="map" style="height: 300px; border-radius: var(--border-radius); overflow: hidden;">
                            <!-- Map placeholder - in production, add Google Maps embed -->
                            <div style="width: 100%; height: 100%; background: var(--light-gray); display: flex; align-items: center; justify-content: center; color: var(--gray);">
                                <div class="text-center">
                                    <i class="fas fa-map-marker-alt" style="font-size: 3rem; margin-bottom: 15px;"></i>
                                    <p>Westlands, Nairobi, Kenya</p>
                                    <button class="btn mt-2" onclick="openGoogleMaps()">
                                        <i class="fas fa-directions"></i> Get Directions
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="footer">
            <div class="container">
                <div class="footer-grid">
                    <div class="footer-about">
                        <div class="footer-logo">
                            <span class="logo-icon">üèóÔ∏è</span>
                            <span>Eagle Contractors</span>
                        </div>
                        <p>
                            Delivering excellence in construction since 2012. We build structures that stand the test of time 
                            while maintaining the highest standards of quality and professionalism.
                        </p>
                        <div class="social-links">
                            <a href="https://facebook.com" class="social-link" target="_blank">
                                <i class="fab fa-facebook-f"></i>
                            </a>
                            <a href="https://twitter.com" class="social-link" target="_blank">
                                <i class="fab fa-twitter"></i>
                            </a>
                            <a href="https://linkedin.com" class="social-link" target="_blank">
                                <i class="fab fa-linkedin-in"></i>
                            </a>
                            <a href="https://instagram.com" class="social-link" target="_blank">
                                <i class="fab fa-instagram"></i>
                            </a>
                        </div>
                    </div> 
                    
                    <div class="footer-links">
                        <h4>Quick Links</h4>
                        <ul>
                            <li><a href="#home">Home</a></li>
                            <li><a href="#about">About Us</a></li>
                            <li><a href="#services">Services</a></li>
                            <li><a href="#projects">Projects</a></li>
                            <li><a href="#testimonials">Testimonials</a></li>
                            <li><a href="#contact">Contact</a></li>
                        </ul>
                    </div>
                    
                    <div class="footer-links">
                        <h4>Our Services</h4>
                        <ul>
                            <li><a href="#services" onclick="showServiceModal('construction')">Construction</a></li>
                            <li><a href="#services" onclick="showServiceModal('renovation')">Renovation</a></li>
                            <li><a href="#services" onclick="showServiceModal('design')">Architectural Design</a></li>
                            <li><a href="#services" onclick="showServiceModal('management')">Project Management</a></li>
                            <li><a href="#services" onclick="showServiceModal('consultation')">Consultation</a></li>
                        </ul>
                    </div>
                    
                    <div class="footer-newsletter">
                        <h4>Newsletter</h4>
                        <p>Subscribe to get updates on our latest projects and construction tips.</p>
                        <form class="newsletter-form" id="newsletterForm">
                            <input type="email" name="user_email" class="newsletter-input" placeholder="Enter your email" required>
                            <input type="text" name="newsletter_honeypot" class="newsletter-hp" style="display:none" tabindex="-1" autocomplete="off" />
                            <button type="submit" class="btn">
                                <i class="fas fa-paper-plane"></i> Subscribe
                            </button>
                            <div id="newsletter-status" role="status" style="margin-top:8px; font-size:0.95rem; color:var(--gray);"></div>
                        </form>
                        <p class="mt-3" style="font-size: 0.85rem; opacity: 0.8;">
                            We respect your privacy. Unsubscribe at any time.
                        </p>
                    </div>
                </div>
                
                <div class="footer-bottom">
                    <p>&copy; 2012-2025 Eagle Contractors. All rights reserved.</p>
                    <div class="footer-bottom-links">
                        <a href="#privacy" onclick="showLegalPage('privacy')">Privacy Policy</a>
                        <a href="#terms" onclick="showLegalPage('terms')">Terms & Conditions</a>
                        <a href="#cookies" onclick="showLegalPage('cookies')">Cookie Policy</a>
                        <a href="#sitemap" onclick="showSitemap()">Sitemap</a>
                    </div>
                </div>
            </div>
        </footer>
    </main>

    <!-- ===== MODALS ===== -->

    <!-- Auth Modal -->
    <div class="modal-overlay" id="authModal">
        <div class="modal">
            <div class="modal-header">
                <h2 class="modal-title" id="authModalTitle">Login</h2>
                <button class="modal-close" onclick="closeModal('authModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="auth-tabs">
                    <button class="auth-tab active" data-tab="login">Login</button>
                    <button class="auth-tab" data-tab="register">Register</button>
                </div>
                
                <div id="loginContent" class="auth-content active">
                    <form id="loginForm">
                        <div class="form-group">
                            <label for="loginEmail" class="form-label">Email Address *</label>
                            <input type="email" id="loginEmail" class="form-control" placeholder="Enter your email" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="loginPassword" class="form-label">Password *</label>
                            <input type="password" id="loginPassword" class="form-control" placeholder="Enter your password" required>
                            <div class="d-flex justify-content-between mt-1">
                                <label style="font-size: 0.9rem;">
                                    <input type="checkbox" id="rememberMe"> Remember me
                                </label>
                                <a href="#forgot-password" onclick="showForgotPassword()" style="font-size: 0.9rem;">
                                    Forgot password?
                                </a>
                            </div>
                        </div>
                        
                        <button type="submit" class="btn btn-primary btn-block">
                            <i class="fas fa-sign-in-alt"></i> Login
                        </button>
                        
                        <div class="text-center mt-3">
                            <p style="font-size: 0.9rem; color: var(--gray);">
                                Don't have an account? 
                                <a href="#" onclick="switchAuthTab('register')" style="font-weight: 600;">Register here</a>
                            </p>
                        </div>
                    </form>
                </div>
                
                <div id="registerContent" class="auth-content">
                    <form id="registerForm">
                        <div class="form-group">
                            <label for="registerName" class="form-label">Full Name *</label>
                            <input type="text" id="registerName" class="form-control" placeholder="Enter your full name" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="registerEmail" class="form-label">Email Address *</label>
                            <input type="email" id="registerEmail" class="form-control" placeholder="Enter your email" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="registerPhone" class="form-label">Phone Number *</label>
                            <input type="tel" id="registerPhone" class="form-control" placeholder="Enter your phone number" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="registerPassword" class="form-label">Password *</label>
                            <input type="password" id="registerPassword" class="form-control" placeholder="Create a password" required>
                            <div style="font-size: 0.85rem; color: var(--gray); margin-top: 5px;">
                                Must be at least 8 characters
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="registerConfirmPassword" class="form-label">Confirm Password *</label>
                            <input type="password" id="registerConfirmPassword" class="form-control" placeholder="Confirm your password" required>
                        </div>
                        
                        <div class="form-group">
                            <label style="font-size: 0.9rem;">
                                <input type="checkbox" id="acceptTerms" required>
                                I agree to the <a href="#terms" onclick="showLegalPage('terms')">Terms & Conditions</a> and 
                                <a href="#privacy" onclick="showLegalPage('privacy')">Privacy Policy</a>
                            </label>
                        </div>
                        
                        <button type="submit" class="btn btn-primary btn-block">
                            <i class="fas fa-user-plus"></i> Create Account
                        </button>
                        
                        <div class="text-center mt-3">
                            <p style="font-size: 0.9rem; color: var(--gray);">
                                Already have an account? 
                                <a href="#" onclick="switchAuthTab('login')" style="font-weight: 600;">Login here</a>
                            </p>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Gallery Modal -->
    <div class="modal-overlay" id="galleryModal">
        <div class="modal modal-large">
            <div class="modal-header">
                <h2 class="modal-title" id="galleryModalTitle">Gallery</h2>
                <button class="modal-close" onclick="closeModal('galleryModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="gallery-grid" id="galleryGrid">
                    <!-- Gallery images will be loaded dynamically -->
                </div>
            </div>
        </div>
    </div>

    <!-- Image Viewer Modal -->
    <div class="modal-overlay image-viewer" id="imageViewerModal">
        <div class="modal">
            <button class="modal-close" onclick="closeModal('imageViewerModal')">&times;</button>
            <div class="modal-body">
                <img id="fullSizeImage" src="" alt="Full Size Image">
            </div>
        </div>
    </div>

    <!-- Service Details Modal -->
    <div class="modal-overlay" id="serviceModal">
        <div class="modal modal-large">
            <div class="modal-header">
                <h2 class="modal-title" id="serviceModalTitle">Service Details</h2>
                <button class="modal-close" onclick="closeModal('serviceModal')">&times;</button>
            </div>
            <div class="modal-body" id="serviceModalContent">
                <!-- Service details will be loaded dynamically -->
            </div>
        </div>
    </div>

    <!-- Legal Pages Modal -->
    <div class="modal-overlay" id="legalModal">
        <div class="modal modal-large">
            <div class="modal-header">
                <h2 class="modal-title" id="legalModalTitle">Legal</h2>
                <button class="modal-close" onclick="closeModal('legalModal')">&times;</button>
            </div>
            <div class="modal-body" id="legalModalContent">
                <!-- Legal content will be loaded dynamically -->
            </div>
        </div>
    </div>

    <!-- Forgot Password Modal -->
    <div class="modal-overlay" id="forgotPasswordModal">
        <div class="modal">
            <div class="modal-header">
                <h2 class="modal-title">Reset Password</h2>
                <button class="modal-close" onclick="closeModal('forgotPasswordModal')">&times;</button>
            </div>
            <div class="modal-body">
                <form id="forgotPasswordForm">
                    <div class="form-group">
                        <label for="resetEmail" class="form-label">Email Address *</label>
                        <input type="email" id="resetEmail" class="form-control" placeholder="Enter your email" required>
                        <p style="font-size: 0.9rem; color: var(--gray); margin-top: 5px;">
                            We'll send you a link to reset your password
                        </p>
                    </div>
                    
                    <button type="submit" class="btn btn-primary btn-block">
                        <i class="fas fa-key"></i> Send Reset Link
                    </button>
                    
                    <div class="text-center mt-3">
                        <p style="font-size: 0.9rem; color: var(--gray);">
                            Remember your password? 
                            <a href="#" onclick="switchToLogin()" style="font-weight: 600;">Login here</a>
                        </p>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Sitemap Modal -->
    <div class="modal-overlay" id="sitemapModal">
        <div class="modal modal-large">
            <div class="modal-header">
                <h2 class="modal-title">Website Sitemap</h2>
                <button class="modal-close" onclick="closeModal('sitemapModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 30px;">
                    <div>
                        <h3 class="mb-3">Main Pages</h3>
                        <ul>
                            <li><a href="#home">Home</a></li>
                            <li><a href="#about">About Us</a></li>
                            <li><a href="#services">Services</a></li>
                            <li><a href="#projects">Projects</a></li>
                            <li><a href="#testimonials">Testimonials</a></li>
                            <li><a href="#contact">Contact</a></li>
                        </ul>
                    </div>
                    
                    <div>
                        <h3 class="mb-3">Services</h3>
                        <ul>
                            <li><a href="#services" onclick="showServiceModal('construction')">Construction</a></li>
                            <li><a href="#services" onclick="showServiceModal('renovation')">Renovation</a></li>
                            <li><a href="#services" onclick="showServiceModal('design')">Architectural Design</a></li>
                            <li><a href="#services" onclick="showServiceModal('management')">Project Management</a></li>
                        </ul>
                    </div>
                    
                    <div>
                        <h3 class="mb-3">Legal</h3>
                        <ul>
                            <li><a href="#privacy" onclick="showLegalPage('privacy')">Privacy Policy</a></li>
                            <li><a href="#terms" onclick="showLegalPage('terms')">Terms & Conditions</a></li>
                            <li><a href="#cookies" onclick="showLegalPage('cookies')">Cookie Policy</a></li>
                        </ul>
                    </div>
                    
                    <div>
                        <h3 class="mb-3">Account</h3>
                        <ul>
                            <li><a href="#" onclick="showAuthModal('login')">Login</a></li>
                            <li><a href="#" onclick="showAuthModal('register')">Register</a></li>
                            <li><a href="#" onclick="showForgotPassword()">Forgot Password</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Back to Top Button -->
    <div class="back-to-top" id="backToTop">
        <i class="fas fa-chevron-up"></i>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast"></div>

    <!-- ===== JAVASCRIPT ===== -->
    <script>
        // ===== CONFIGURATION =====
        const CONFIG = {
            // EmailJS Configuration (Configured)
            EMAILJS: {
                SERVICE_ID: 'service_1yzm6q8',                               // Your EmailJS Service ID
                CONTACT_TEMPLATE_ID: 'template_mwjxp7w',                    // Your Contact Template ID
                NEWSLETTER_TEMPLATE_ID: 'template_2mx0wx8',                  // Newsletter Template ID (configured)
                USER_ID: 'YOUR_USER_ID',                                     // (Optional) Legacy EmailJS User ID
                PUBLIC_KEY: 'f0YR8qOLA-6FpUt2X'                              // Your EmailJS Public Key
            },
            
            // Website Configuration
            SITE: {
                NAME: 'Eagle Contractors',
                EMAIL: 'info@eaglecontractors.com',
                PHONE: '+254713723639',
                ADDRESS: 'Westlands, Nairobi, Kenya',
                YEAR_STARTED: 2012
            },

            // Firebase configuration (paste your Firebase config below)
            FIREBASE: {
                ENABLED: true,
                API_KEY: "AIzaSyBfPR69J4AMslmlwI9qv4GeugHAn65BcRQ",
                AUTH_DOMAIN: "eagle-contractors-be1f0.firebaseapp.com",
                PROJECT_ID: "eagle-contractors-be1f0",
                STORAGE_BUCKET: "eagle-contractors-be1f0.firebasestorage.app",
                MESSAGING_SENDER_ID: "102090031448",
                APP_ID: "1:102090031448:web:36aa9efae1b9c4b7f8a52d",
                MEASUREMENT_ID: "G-83ZNZ0EL6Y"
            },
            
            // Demo Mode (Set to false in production)
            DEMO_MODE: false
        };  

        // ===== APPLICATION STATE =====
        const APP = {
            // User state
            currentUser: JSON.parse(localStorage.getItem('eagle_user')) || null,
            isLoggedIn: !!localStorage.getItem('eagle_user'),
            
            // UI state
            currentProjectFilter: 'all',
            loadedProjectsCount: 6,
            testimonialsCurrentSlide: 0,
            testimonialsAutoSlideInterval: null,
            
            // Data
            projects: [],
            testimonials: [],
            services: {},
            galleries: {},
            legalPages: {}
        };

        // ===== INITIALIZATION =====
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üöÄ Eagle Contractors Website Initializing...');
            
            // Initialize EmailJS
            initializeEmailJS();
            
            // Initialize Firebase (if configured)
            initializeFirebase();

            // Load all data
            loadData();
            
            // Setup event listeners
            setupEventListeners();
            
            // Initialize UI components
            initializeUI();
            
            // Start animations
            startAnimations();
            
            console.log('‚úÖ Website Initialized Successfully');
        });

        // ===== DATA LOADING =====
        function loadData() {
            // Load projects
            APP.projects = [
                {
                    id: 1,
                    title: 'Nairobi Corporate Tower',
                    category: 'commercial',
                    image: 'eaglecontractorsimages/modern.jpeg',
                    description: '20-story commercial building with modern offices and retail spaces in Westlands.',
                    year: '2024',
                    status: 'completed',
                    area: '15,000 sq ft',
                    client: 'TechSolutions Ltd'
                },
                {
                    id: 2,
                    title: 'Karen Luxury Villas',
                    category: 'residential',
                    image: 'eaglecontractorsimages/villa.jpeg',
                    description: 'Exclusive gated community with 15 luxury villas featuring private pools.',
                    year: '2023',
                    status: 'completed',
                    area: '5 acres',
                    client: 'Prime Properties'
                },
                {
                    id: 3,
                    title: 'Meru Southern Bypass',
                    category: 'infrastructure',
                    image: 'eaglecontractorsimages/road6.jpeg',
                    description: '10km dual carriageway road project improving traffic flow in Nairobi.',
                    year: '2024',
                    status: 'completed',
                    area: '10 km',
                    client: 'Government of Kenya'
                },
                {
                    id: 4,
                    title: 'Nissi Residence',
                    category: 'residential',
                    image: 'eaglecontractorsimages/nissi.jpg',
                    description: ' A contemporary single-family home with premium finishes, spacious living areas, and landscaped gardens.',
                    year: '2022',
                    status: 'completed',
                    area: '25,000 sq ft',
                    client: 'Urban Developers Ltd'
                },
                {
                    id: 5,
                    title: 'Kilimani Apartments',
                    category: 'residential',
                    image: 'https://images.unsplash.com/photo-1568605114967-8130f3a36994?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80',
                    description: 'Modern apartment complex with 120 units and premium amenities.',
                    year: '2023',
                    status: 'completed',
                    area: '25,000 sq ft',
                    client: 'Urban Developers Ltd'
                },
                {
                    id: 6,
                    title: 'Kikuyu Gateway link',
                    category: 'infrastructure',
                    image: 'eaglecontractorsimages/road5.jpeg',
                    description: 'Modern overpass construction to ease traffic congestion.',
                    year: '2024',
                    status: 'ongoing',
                    area: '500m',
                    client: 'Nairobi City Council'
                },
                {
                    id: 7,
                    title: 'Mombasa Beach Resort',
                    category: 'commercial',
                    image: 'https://images.unsplash.com/photo-1497366754035-f200968a6e72?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80',
                    description: 'Luxury beach resort with 200 rooms and conference facilities.',
                    year: '2025',
                    status: 'planned',
                    area: '10 acres',
                    client: 'Coastal Hotels Group'
                },
                {
                    id: 8,
                    title: 'Greenfield Eco Estate',
                    category: 'residential',
                    image: 'https://images.unsplash.com/photo-1572120360610-d971b9d7767c?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80',
                    description: 'Eco-friendly housing estate with 100 energy-efficient homes.',
                    year: '2024',
                    status: 'ongoing',
                    area: '8 acres',
                    client: 'Green Living Developers'
                }
            ];

            // Load testimonials
            APP.testimonials = [
                {
                    id: 1,
                    name: 'David Kariuki',
                    company: 'CEO, TechSolutions Ltd',
                    image: 'eaglecontractorsimages/testimonal2.jpeg',
                    rating: 5,
                    text: 'Eagle Contractors delivered our corporate headquarters ahead of schedule and within budget. Their professionalism and attention to detail were exceptional.',
                    date: '2024-01-15'
                },
                {
                    id: 2,
                    name: 'Sarah Mwangi',
                    company: 'Homeowner, Nakuru',
                    image: 'eaglecontractorsimages/testimonal.jpg',
                    rating: 5,
                    text: 'Our home renovation was handled with utmost care. The team was respectful, clean, and delivered beyond our expectations. Highly recommended!',
                    date: '2024-02-20'
                },
                {
                    id: 3,
                    name: 'James Omondi',
                    company: 'Director, Prime Properties',
                    image: 'eaglecontractorsimages/testimonals.jpeg',
                    rating: 4.5,
                    text: 'As a property developer, I\'ve worked with many contractors. Eagle stands out for their reliability, quality work, and excellent project management.',
                    date: '2024-03-10'
                },
                {
                    id: 4,
                    name: 'Grace Wanjiku',
                    company: 'Manager, Retail Chain',
                    image: 'eaglecontractorsimages/testimonal5.jpeg',
                    rating: 5,
                    text: 'They completed our store renovations during off-hours to minimize business disruption. Highly professional and efficient team.',
                    date: '2024-04-05'
                }
            ];

            // Load galleries
            APP.galleries = {
                about: [
                    'eaglecontractorsimages/estate.jpeg',
                    'eaglecontractorsimages/estate3.jpeg',
                    'eaglecontractorsimages/home.jpeg',
                    'https://images.unsplash.com/photo-1504307651254-35680f356dfd?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80',
                    'eaglecontractorsimages/modern.jpeg',
                    'eaglecontractorsimages/road5.jpeg',
                    'https://images.unsplash.com/photo-1504917595217-d4dc5ebe6122?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80',
                    'eaglecontractorsimages/qulityassuranc.jpeg',
                    'eaglecontractorsimages/home6.jpeg'
                ],
                residential: [
                    'https://images.unsplash.com/photo-1512917774080-9991f1c4c750?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80',
                    'https://images.unsplash.com/photo-1568605114967-8130f3a36994?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80',
                    'eaglecontractorsimages/villa2.jpeg',
                    'eaglecontractorsimages/estate.jpeg'
                ],
                commercial: [
                    'eaglecontractorsimages/modern2.jpeg',
                    'eaglecontractorsimages/estate1.jpeg',
                    'https://images.unsplash.com/photo-1497366754035-f200968a6e72?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80',
                    'eaglecontractorsimages/commercial.jpg'
                ],
                infrastructure: [
                    'eaglecontractorsimages/road.jpeg',
                    'eaglecontractorsimages/road4.jpeg',
                    'eaglecontractorsimages/design2.jpeg',
                    'https://images.unsplash.com/photo-1503387762-592deb58ef4e?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80'
                ]
            };

            // Load legal pages
            APP.legalPages = {
                privacy: getPrivacyPolicy(),
                terms: getTermsAndConditions(),
                cookies: getCookiePolicy()
            };

            // Render initial data
            renderProjects();
            renderTestimonials();
            updateAuthUI();
        }

        // ===== EMAILJS INITIALIZATION =====
        function initializeEmailJS() {
            try {
                // Initialize EmailJS with your public key (use PUBLIC_KEY if available, fallback to USER_ID)
                emailjs.init(CONFIG.EMAILJS.PUBLIC_KEY || CONFIG.EMAILJS.USER_ID);
                console.log('‚úÖ EmailJS Initialized');
            } catch (error) {
                console.warn('‚ö†Ô∏è EmailJS not configured. Please add your credentials.');
            }
        }

        // ===== FIREBASE INITIALIZATION =====
        function initializeFirebase() {
            if (!CONFIG.FIREBASE || !CONFIG.FIREBASE.ENABLED) return;

            try {
                const fbConfig = {
                    apiKey: CONFIG.FIREBASE.API_KEY,
                    authDomain: CONFIG.FIREBASE.AUTH_DOMAIN,
                    projectId: CONFIG.FIREBASE.PROJECT_ID,
                    appId: CONFIG.FIREBASE.APP_ID,
                    measurementId: CONFIG.FIREBASE.MEASUREMENT_ID
                };

                // Initialize Firebase
                firebase.initializeApp(fbConfig);
                window.FB_AUTH = firebase.auth();

                // Listen to auth state changes
                FB_AUTH.onAuthStateChanged(user => {
                    if (user) {
                        APP.currentUser = {
                            id: user.uid,
                            name: user.displayName || user.email.split('@')[0],
                            email: user.email
                        };
                        APP.isLoggedIn = true;
                        localStorage.setItem('eagle_user', JSON.stringify(APP.currentUser));
                    } else {
                        APP.currentUser = null;
                        APP.isLoggedIn = false;
                        localStorage.removeItem('eagle_user');
                    }
                    updateAuthUI();
                });

                console.log('‚úÖ Firebase Initialized');
            } catch (err) {
                console.warn('‚ö†Ô∏è Firebase not configured or failed to initialize:', err);
            }
        }

        // ===== EVENT LISTENERS SETUP =====
        function setupEventListeners() {
            // Mobile menu toggle
            document.getElementById('hamburger').addEventListener('click', toggleMobileMenu);
            
            // Navigation links
            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', function(e) {
                    if (this.getAttribute('href').startsWith('#')) {
                        e.preventDefault();
                        const targetId = this.getAttribute('href').substring(1);
                        scrollToSection(targetId);
                        closeMobileMenu();
                    }
                });
            });

            // Project filter buttons
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const filter = this.getAttribute('data-filter');
                    filterProjects(filter);
                    
                    // Update active button
                    document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                });
            });

            // Testimonial slider controls
            document.getElementById('prevBtn').addEventListener('click', prevTestimonial);
            document.getElementById('nextBtn').addEventListener('click', nextTestimonial);

            // Budget range input
            const budgetInput = document.getElementById('budget');
            const budgetValue = document.getElementById('budgetValue');
            if (budgetInput) {
                budgetInput.addEventListener('input', function() {
                    const value = parseInt(this.value).toLocaleString();
                    budgetValue.textContent = value;
                });
            }

            // Form submissions
            document.getElementById('contactForm')?.addEventListener('submit', handleContactSubmit);
            document.getElementById('loginForm')?.addEventListener('submit', handleLogin);
            document.getElementById('registerForm')?.addEventListener('submit', handleRegister);
            document.getElementById('newsletterForm')?.addEventListener('submit', handleNewsletterSubmit);
            document.getElementById('forgotPasswordForm')?.addEventListener('submit', handleForgotPassword);

            // Auth tab switching
            document.querySelectorAll('.auth-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    const tabName = this.getAttribute('data-tab');
                    switchAuthTab(tabName);
                });
            });

            // Modal close buttons
            document.querySelectorAll('.modal-close').forEach(btn => {
                btn.addEventListener('click', function() {
                    const modal = this.closest('.modal-overlay');
                    closeModal(modal.id);
                });
            });

            // Close modal when clicking outside
            document.querySelectorAll('.modal-overlay').forEach(modal => {
                modal.addEventListener('click', function(e) {
                    if (e.target === this) {
                        closeModal(this.id);
                    }
                });
            });

            // Window events
            window.addEventListener('scroll', handleScroll);
            window.addEventListener('resize', handleResize);

            // Keyboard shortcuts
            document.addEventListener('keydown', function(e) {
                // Escape to close modals
                if (e.key === 'Escape') {
                    const openModal = document.querySelector('.modal-overlay[style*="display: flex"]');
                    if (openModal) closeModal(openModal.id);
                }
                
                // Left/Right for testimonial navigation
                if (e.key === 'ArrowLeft') prevTestimonial();
                if (e.key === 'ArrowRight') nextTestimonial();
            });
        }

        // ===== UI INITIALIZATION =====
        function initializeUI() {
            // Animate statistics
            animateStatistics();
            
            // Start testimonial auto-slide
            startTestimonialAutoSlide();
            
            // Update copyright year
            updateCopyrightYear();
            
            // Check for user session
            checkUserSession();
        }

        // ===== RENDER FUNCTIONS =====
        function renderProjects() {
            const container = document.getElementById('projectsContainer');
            if (!container) return;

            const filteredProjects = APP.currentProjectFilter === 'all' 
                ? APP.projects.slice(0, APP.loadedProjectsCount)
                : APP.projects.filter(p => p.category === APP.currentProjectFilter).slice(0, APP.loadedProjectsCount);

            container.innerHTML = filteredProjects.map(project => `
                <div class="project-card" data-category="${project.category}">
                    <div class="project-image">
                        <img src="${project.image}" alt="${project.title}">
                        <div style="position: absolute; top: 15px; right: 15px; background: rgba(0,0,0,0.7); color: white; padding: 5px 10px; border-radius: 20px; font-size: 0.8rem; font-weight: 600;">
                            ${project.status}
                        </div>
                    </div>
                    <div class="project-content">
                        <h3 class="project-title">${project.title}</h3>
                        <p style="color: var(--gray); margin-bottom: 15px;">${project.description}</p>
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 20px;">
                            <span class="project-category">${project.category}</span>
                            <span style="font-size: 0.9rem; color: var(--gray);">${project.year}</span>
                        </div>
                        <div style="margin-top: 15px; display: flex; gap: 10px;">
                            <button class="btn" style="flex: 1;" onclick="showProjectDetails(${project.id})">
                                <i class="fas fa-info-circle"></i> Details
                            </button>
                            <button class="btn" style="flex: 1;" onclick="showGalleryModal('${project.category}')">
                                <i class="fas fa-images"></i> Gallery
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function renderTestimonials() {
            const track = document.getElementById('testimonialsTrack');
            const dots = document.getElementById('sliderDots');
            if (!track || !dots) return;

            track.innerHTML = APP.testimonials.map((testimonial, index) => `
                <div class="testimonial-slide" data-index="${index}">
                    <div class="testimonial-card">
                        <div class="client-avatar">
                            <img src="${testimonial.image}" alt="${testimonial.name}">
                        </div>
                        <div class="testimonial-rating">
                            ${'‚òÖ'.repeat(Math.floor(testimonial.rating))}${testimonial.rating % 1 !== 0 ? '¬Ω' : ''}${'‚òÜ'.repeat(5 - Math.ceil(testimonial.rating))}
                        </div>
                        <p class="testimonial-text">"${testimonial.text}"</p>
                        <p class="client-name">${testimonial.name}</p>
                        <p class="client-company">${testimonial.company}</p>
                        <p style="font-size: 0.9rem; color: var(--gray); margin-top: 10px;">
                            <i class="far fa-calendar"></i> ${new Date(testimonial.date).toLocaleDateString('en-US', { month: 'long', year: 'numeric' })}
                        </p>
                    </div>
                </div>
            `).join('');

            dots.innerHTML = APP.testimonials.map((_, index) => `
                <div class="slider-dot ${index === 0 ? 'active' : ''}" data-index="${index}" onclick="goToTestimonial(${index})"></div>
            `).join('');

            updateTestimonialPosition();
        }

        // ===== PROJECT FUNCTIONS =====
        function filterProjects(filter) {
            APP.currentProjectFilter = filter;
            APP.loadedProjectsCount = 6;
            renderProjects();
        }

        function loadMoreProjects() {
            APP.loadedProjectsCount += 3;
            renderProjects();
        }

        function showProjectDetails(projectId) {
            const project = APP.projects.find(p => p.id === projectId);
            if (!project) return;

            const modalContent = `
                <div class="details-grid">
                    <div class="details-image">
                        <img src="${project.image}" alt="${project.title}">
                    </div>
                    <div class="details-content">
                        <h3>${project.title}</h3>
                        <p>${project.description}</p>

                        <div class="details-box">
                            <h4>Project Details</h4>
                            <div class="details-attrs">
                                <div>
                                    <strong>Category:</strong><br>
                                    <span style="color: var(--gray);">${project.category.charAt(0).toUpperCase() + project.category.slice(1)}</span>
                                </div>
                                <div>
                                    <strong>Year:</strong><br>
                                    <span style="color: var(--gray);">${project.year}</span>
                                </div>
                                <div>
                                    <strong>Status:</strong><br>
                                    <span style="color: ${project.status === 'completed' ? 'var(--success)' : project.status === 'ongoing' ? 'var(--warning)' : 'var(--gray)'}; font-weight: 600;">${project.status.charAt(0).toUpperCase() + project.status.slice(1)}</span>
                                </div>
                                <div>
                                    <strong>Area:</strong><br>
                                    <span style="color: var(--gray);">${project.area}</span>
                                </div>
                            </div>
                        </div>

                        <div>
                            <h4>Client</h4>
                            <p style="color: var(--gray);">${project.client}</p>
                        </div>

                        <div class="details-actions">
                            <button class="btn btn-primary" onclick="showGalleryModal('${project.category}')">
                                <i class="fas fa-images"></i> View Gallery
                            </button>
                            <button class="btn" onclick="closeModal('serviceModal'); scrollToSection('contact')">
                                <i class="fas fa-envelope"></i> Get Quote
                            </button>
                        </div>
                    </div>
                </div>
            `;

            document.getElementById('serviceModalTitle').textContent = project.title;
            document.getElementById('serviceModalContent').innerHTML = modalContent;
            showModal('serviceModal');
        }

        // ===== TESTIMONIAL FUNCTIONS =====
        function nextTestimonial() {
            APP.testimonialsCurrentSlide = (APP.testimonialsCurrentSlide + 1) % APP.testimonials.length;
            updateTestimonialPosition();
        }

        function prevTestimonial() {
            APP.testimonialsCurrentSlide = (APP.testimonialsCurrentSlide - 1 + APP.testimonials.length) % APP.testimonials.length;
            updateTestimonialPosition();
        }

        function goToTestimonial(index) {
            APP.testimonialsCurrentSlide = index;
            updateTestimonialPosition();
        }

        function updateTestimonialPosition() {
            const track = document.getElementById('testimonialsTrack');
            const dots = document.querySelectorAll('.slider-dot');
            
            if (track) {
                track.style.transform = `translateX(-${APP.testimonialsCurrentSlide * 100}%)`;
            }
            
            dots.forEach((dot, index) => {
                dot.classList.toggle('active', index === APP.testimonialsCurrentSlide);
            });
        }

        function startTestimonialAutoSlide() {
            if (APP.testimonialsAutoSlideInterval) {
                clearInterval(APP.testimonialsAutoSlideInterval);
            }
            
            APP.testimonialsAutoSlideInterval = setInterval(() => {
                nextTestimonial();
            }, 5000);
        }

        // ===== AUTH FUNCTIONS =====
        function showAuthModal(tab = 'login') {
            switchAuthTab(tab);
            showModal('authModal');
        }

        function switchAuthTab(tabName) {
            // Update tabs
            document.querySelectorAll('.auth-tab').forEach(tab => {
                tab.classList.toggle('active', tab.getAttribute('data-tab') === tabName);
            });
            
            // Update content
            document.querySelectorAll('.auth-content').forEach(content => {
                content.classList.toggle('active', content.id === `${tabName}Content`);
            });
            
            // Update modal title
            document.getElementById('authModalTitle').textContent = 
                tabName === 'login' ? 'Login' : 'Create Account';
        }

        async function handleLogin(e) {
            e.preventDefault();
            
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            if (!email || !password) {
                showToast('Please fill in all fields', 'error');
                return;
            }
            
            // In demo mode, simulate login
            if (CONFIG.DEMO_MODE) {
                // Simulate API call delay
                showToast('Logging in...', 'info');
                
                setTimeout(() => {
                    APP.currentUser = {
                        id: 1,
                        name: email.split('@')[0],
                        email: email,
                        phone: '+254713723639',
                        joined: new Date().toISOString()
                    };
                    
                    APP.isLoggedIn = true;
                    localStorage.setItem('eagle_user', JSON.stringify(APP.currentUser));
                    
                    showToast('Login successful!', 'success');
                    closeModal('authModal');
                    updateAuthUI();
                    e.target.reset();
                }, 1500);
            } else if (CONFIG.FIREBASE && CONFIG.FIREBASE.ENABLED) {
                // Use Firebase Auth for login
                try {
                    showToast('Signing in...', 'info');
                    const userCred = await FB_AUTH.signInWithEmailAndPassword(email, password);

                    APP.currentUser = {
                        id: userCred.user.uid,
                        name: userCred.user.displayName || userCred.user.email.split('@')[0],
                        email: userCred.user.email
                    };
                    APP.isLoggedIn = true;
                    localStorage.setItem('eagle_user', JSON.stringify(APP.currentUser));

                    showToast('Login successful!', 'success');
                    closeModal('authModal');
                    updateAuthUI();
                    e.target.reset();
                } catch (err) {
                    console.error('Firebase login failed:', err);
                    showToast(err.message || 'Login failed', 'error');
                }
            } else {
                // In production, implement actual API call
                showToast('Login functionality requires backend integration', 'warning');
            }
        }

        async function handleRegister(e) {
            e.preventDefault();
            
            const name = document.getElementById('registerName').value;
            const email = document.getElementById('registerEmail').value;
            const phone = document.getElementById('registerPhone').value;
            const password = document.getElementById('registerPassword').value;
            const confirmPassword = document.getElementById('registerConfirmPassword').value;
            
            // Validation
            if (!name || !email || !phone || !password || !confirmPassword) {
                showToast('Please fill in all fields', 'error');
                return;
            }
            
            if (password !== confirmPassword) {
                showToast('Passwords do not match', 'error');
                return;
            }
            
            if (password.length < 8) {
                showToast('Password must be at least 8 characters', 'error');
                return;
            }
            
            if (!document.getElementById('acceptTerms').checked) {
                showToast('Please accept the terms and conditions', 'error');
                return;
            }
            
            // In demo mode, simulate registration
            if (CONFIG.DEMO_MODE) {
                showToast('Creating account...', 'info');
                
                setTimeout(() => {
                    APP.currentUser = {
                        id: Date.now(),
                        name: name,
                        email: email,
                        phone: phone,
                        joined: new Date().toISOString()
                    };
                    
                    APP.isLoggedIn = true;
                    localStorage.setItem('eagle_user', JSON.stringify(APP.currentUser));
                    
                    showToast('Account created successfully!', 'success');
                    closeModal('authModal');
                    updateAuthUI();
                    e.target.reset();
                    
                    // Show welcome message
                    setTimeout(() => {
                        showToast(`Welcome to Eagle Contractors, ${name}!`, 'success');
                    }, 500);
                }, 2000);
            } else if (CONFIG.FIREBASE && CONFIG.FIREBASE.ENABLED) {
                // Use Firebase Auth for registration
                try {
                    showToast('Creating account...', 'info');
                    const userCred = await FB_AUTH.createUserWithEmailAndPassword(email, password);

                    // Update profile with name & phone
                    await userCred.user.updateProfile({ displayName: name });

                    // Save session info
                    APP.currentUser = {
                        id: userCred.user.uid,
                        name: name,
                        email: userCred.user.email,
                        phone: phone,
                        joined: new Date().toISOString()
                    };

                    APP.isLoggedIn = true;
                    localStorage.setItem('eagle_user', JSON.stringify(APP.currentUser));

                    // Send verification email
                    try { await userCred.user.sendEmailVerification(); } catch (vErr) { console.warn('Verification email failed:', vErr); }

                    showToast('Account created successfully! Please check your email for verification.', 'success');
                    closeModal('authModal');
                    updateAuthUI();
                    e.target.reset();
                } catch (err) {
                    console.error('Firebase registration failed:', err);
                    showToast(err.message || 'Registration failed', 'error');
                }
            } else {
                // Default production message
                showToast('Registration functionality requires backend integration', 'warning');
            }
        }

        async function handleForgotPassword(e) {
            e.preventDefault();
            
            const email = document.getElementById('resetEmail').value;
            
            if (!email) {
                showToast('Please enter your email address', 'error');
                return;
            }
            
            if (CONFIG.DEMO_MODE) {
                showToast(`Password reset link sent to ${email}`, 'success');
                closeModal('forgotPasswordModal');
                e.target.reset();
            } else if (CONFIG.FIREBASE && CONFIG.FIREBASE.ENABLED) {
                try {
                    await FB_AUTH.sendPasswordResetEmail(email);
                    showToast(`Password reset link sent to ${email}`, 'success');
                    closeModal('forgotPasswordModal');
                    e.target.reset();
                } catch (err) {
                    console.error('Password reset failed:', err);
                    showToast(err.message || 'Password reset failed', 'error');
                }
            } else {
                showToast('Password reset requires backend integration', 'warning');
            }
        }

        function logout() {
            APP.currentUser = null;
            APP.isLoggedIn = false;
            localStorage.removeItem('eagle_user');
            updateAuthUI();
            showToast('Logged out successfully', 'info');
        }

        function updateAuthUI() {
            const authButtons = document.querySelector('.auth-buttons');
            if (!authButtons) return;
            
            if (APP.isLoggedIn && APP.currentUser) {
                authButtons.innerHTML = `
                    <div style="display: flex; align-items: center; gap: 15px;">
                        <div style="display: flex; align-items: center; gap: 8px;">
                            <div style="width: 35px; height: 35px; background: var(--primary); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 600;">
                                ${APP.currentUser.name.charAt(0).toUpperCase()}
                            </div>
                            <span style="font-weight: 600; color: var(--primary);">Hi, ${APP.currentUser.name.split(' ')[0]}</span>
                        </div>
                        <button class="auth-btn login-btn" onclick="logout()">
                            <i class="fas fa-sign-out-alt"></i> Logout
                        </button>
                    </div>
                `;
            }
        }

        // ===== FORM HANDLING =====
        async function handleContactSubmit(e) {
            e.preventDefault();
            
            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;
            const phone = document.getElementById('phone').value || 'Not provided';
            const service = document.getElementById('service').value || 'Not specified';
            const message = document.getElementById('message').value;
            const budget = document.getElementById('budget').value;
            
            if (!name || !email || !message) {
                showToast('Please fill in all required fields', 'error');
                return;
            }
            
            // Show loading state
            const submitBtn = e.target.querySelector('button[type="submit"]');
            const originalText = submitBtn.innerHTML;
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Sending...';
            submitBtn.disabled = true;
            
            try {
                // Send email using EmailJS
                const templateParams = {
                    from_name: name,
                    from_email: email,
                    phone: phone,
                    service: service,
                    message: message,
                    budget: parseInt(budget).toLocaleString(),
                    date: new Date().toLocaleString(),
                    to_email: CONFIG.SITE.EMAIL
                };
                
                // Check if EmailJS is configured
                if (!CONFIG.EMAILJS.SERVICE_ID || CONFIG.EMAILJS.SERVICE_ID === 'YOUR_SERVICE_ID') {
                    // Demo mode - simulate email sending
                    setTimeout(() => {
                        showToast('Message sent successfully! (Demo Mode)', 'success');
                        e.target.reset();
                        document.getElementById('budgetValue').textContent = '5,000,000';
                        submitBtn.innerHTML = originalText;
                        submitBtn.disabled = false;
                    }, 1500);
                } else {
                    // Production - send actual email
                    const response = await emailjs.send(
                        CONFIG.EMAILJS.SERVICE_ID,
                        CONFIG.EMAILJS.CONTACT_TEMPLATE_ID,
                        templateParams
                    );
                    
                    showToast('Message sent successfully! We\'ll contact you soon.', 'success');
                    e.target.reset();
                    document.getElementById('budgetValue').textContent = '5,000,000';
                }
                
            } catch (error) {
                console.error('Email sending failed:', error);
                showToast('Failed to send message. Please try again or call us directly.', 'error');
            } finally {
                submitBtn.innerHTML = originalText;
                submitBtn.disabled = false;
            }
        }

        async function handleNewsletterSubmit(e) {
            e.preventDefault();
            
            const email = e.target.querySelector('input[type="email"]').value;
            const honeypot = e.target.querySelector('input[name="newsletter_honeypot"]')?.value;
            
            if (honeypot) return; // Bot detected, silently ignore
            if (!email) {
                showToast('Please enter your email address', 'error');
                return;
            }

            // Show a loading state if there's a button
            const submitBtn = e.target.querySelector('button[type="submit"]');
            const originalText = submitBtn ? submitBtn.innerHTML : '';
            if (submitBtn) {
                submitBtn.disabled = true;
                submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Subscribing...';
            }

            try {
                // If EmailJS is configured, send using the newsletter template
                if (CONFIG.EMAILJS.SERVICE_ID && CONFIG.EMAILJS.NEWSLETTER_TEMPLATE_ID && CONFIG.EMAILJS.SERVICE_ID !== 'YOUR_SERVICE_ID') {
                    const params = {
                        user_email: email,
                        date: new Date().toLocaleString()
                    };

                    await emailjs.send(
                        CONFIG.EMAILJS.SERVICE_ID,
                        CONFIG.EMAILJS.NEWSLETTER_TEMPLATE_ID,
                        params
                    );

                    showToast('Thank you for subscribing to our newsletter!', 'success');
                    e.target.reset();
                } else {
                    // Demo fallback
                    showToast('Thank you for subscribing to our newsletter! (Demo Mode)', 'success');
                    e.target.reset();
                }
            } catch (err) {
                console.error('Newsletter subscription failed:', err);
                showToast('Subscription failed. Please try again later.', 'error');
            } finally {
                if (submitBtn) {
                    submitBtn.innerHTML = originalText;
                    submitBtn.disabled = false;
                }
            }
        }

        // ===== MODAL FUNCTIONS =====
        function showModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.style.display = 'flex';
                document.body.style.overflow = 'hidden';
            }
        }

        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.style.display = 'none';
                document.body.style.overflow = 'auto';
            }
        }

        function showGalleryModal(category) {
            // If a details/service modal is open, close it so the gallery appears in front
            closeModal('serviceModal');

            const gallery = APP.galleries[category] || APP.galleries.about;
            const title = category ? `${category.charAt(0).toUpperCase() + category.slice(1)} Gallery` : 'Gallery';
            
            document.getElementById('galleryModalTitle').textContent = title;
            
            const grid = document.getElementById('galleryGrid');
            grid.innerHTML = gallery.map((img, index) => `
                <div class="gallery-item" onclick="viewImage('${img}', '${title} - Image ${index + 1}')">
                    <img src="${img}" alt="Gallery Image ${index + 1}">
                </div>
            `).join('');

            // Ensure gallery modal is above other modals
            const galleryModal = document.getElementById('galleryModal');
            if (galleryModal) galleryModal.style.zIndex = 3001;
            showModal('galleryModal');
        }

        function viewImage(src, alt) {
            // Close details modal to ensure the image viewer is frontmost
            closeModal('serviceModal');

            document.getElementById('fullSizeImage').src = src;
            document.getElementById('fullSizeImage').alt = alt;

            // Ensure image viewer modal is above other modals
            const imageViewer = document.getElementById('imageViewerModal');
            if (imageViewer) imageViewer.style.zIndex = 3002;

            showModal('imageViewerModal');
        }

        function showServiceModal(serviceType) {
            const services = {
                construction: {
                    title: 'Construction Services',
                    content: `
                        <div class="service-modal-grid">
                            <div>
                                <h3 style="color: var(--primary); margin-bottom: 20px;">Complete Construction Solutions</h3>
                                <p>We provide end-to-end construction services for residential, commercial, and industrial projects.</p>
                                
                                <h4 style="margin-top: 25px; margin-bottom: 15px;">Our Construction Process:</h4>
                                <ol style="margin-bottom: 25px;">
                                    <li>Site assessment and planning</li>
                                    <li>Foundation and structural work</li>
                                    <li>Building construction</li>
                                    <li>Electrical and plumbing installation</li>
                                    <li>Finishing and interior work</li>
                                    <li>Quality inspection and handover</li>
                                </ol>
                                
                                <div style="background: var(--light); padding: 20px; border-radius: var(--border-radius);">
                                    <h4 style="margin-bottom: 15px;">Typical Timeline:</h4>
                                    <ul>
                                        <li>Small projects: 3-6 months</li>
                                        <li>Medium projects: 6-12 months</li>
                                        <li>Large projects: 12-24 months</li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div>
                                <div style="background: var(--light); padding: 25px; border-radius: var(--border-radius); margin-bottom: 20px;">
                                    <h4 style="margin-bottom: 15px;">What's Included:</h4>
                                    <ul>
                                        <li>Project management</li>
                                        <li>Material procurement</li>
                                        <li>Quality assurance</li>
                                        <li>Safety compliance</li>
                                        <li>Warranty coverage</li>
                                    </ul>
                                </div>
                                
                                <div style="background: var(--light); padding: 25px; border-radius: var(--border-radius);">
                                    <h4 style="margin-bottom: 15px;">Starting Prices:</h4>
                                    <ul>
                                        <li>Residential: From KSH 2,500,000</li>
                                        <li>Commercial: From KSH 5,000,000</li>
                                        <li>Industrial: Custom quotation</li>
                                    </ul>
                                </div>
                                
                                <div style="margin-top: 30px;">
                                    <button class="btn btn-primary" onclick="closeModal('serviceModal'); scrollToSection('contact')" style="width: 100%;">
                                        <i class="fas fa-envelope"></i> Get a Free Quote
                                    </button>
                                </div>
                            </div>
                        </div>
                    `
                },
                renovation: {
                    title: 'Renovation Services',
                    content: `
                        <div class="service-modal-grid">
                            <div>
                                <h3 style="color: var(--primary); margin-bottom: 20px;">Professional Renovation Services</h3>
                                <p>Transform your existing spaces with our expert renovation and remodeling services.</p>
                                
                                <h4 style="margin-top: 25px; margin-bottom: 15px;">Renovation Services:</h4>
                                <ul style="margin-bottom: 25px;">
                                    <li>Home renovation and remodeling</li>
                                    <li>Office space renovation</li>
                                    <li>Kitchen and bathroom upgrades</li>
                                    <li>Structural modifications</li>
                                    <li>Interior redesign</li>
                                    <li>Exterior renovation</li>
                                </ul>
                                
                                <div style="background: var(--light); padding: 20px; border-radius: var(--border-radius);">
                                    <h4 style="margin-bottom: 15px;">Our Approach:</h4>
                                    <ol>
                                        <li>Consultation and design</li>
                                        <li>Minimal disruption planning</li>
                                        <li>Efficient execution</li>
                                        <li>Quality finishing</li>
                                        <li>Cleanup and handover</li>
                                    </ol>
                                </div>
                            </div>
                            
                            <div>
                                <div style="background: var(--light); padding: 25px; border-radius: var(--border-radius); margin-bottom: 20px;">
                                    <h4 style="margin-bottom: 15px;">Benefits:</h4>
                                    <ul>
                                        <li>Modernize outdated spaces</li>
                                        <li>Increase property value</li>
                                        <li>Improve functionality</li>
                                        <li>Enhance aesthetics</li>
                                        <li>Energy efficiency upgrades</li>
                                    </ul>
                                </div>
                                
                                <div style="background: var(--light); padding: 25px; border-radius: var(--border-radius);">
                                    <h4 style="margin-bottom: 15px;">Typical Costs:</h4>
                                    <ul>
                                        <li>Kitchen renovation: KSH 500,000 - 2,000,000</li>
                                        <li>Bathroom renovation: KSH 300,000 - 1,500,000</li>
                                        <li>Complete home renovation: Custom quotation</li>
                                        <li>Office renovation: From KSH 1,000,000</li>
                                    </ul>
                                </div>
                                
                                <div style="margin-top: 30px;">
                                    <button class="btn btn-primary" onclick="closeModal('serviceModal'); scrollToSection('contact')" style="width: 100%;">
                                        <i class="fas fa-envelope"></i> Get a Free Consultation
                                    </button>
                                </div>
                            </div>
                        </div>
                    `
                }
            };
            
            const service = services[serviceType] || services.construction;
            document.getElementById('serviceModalTitle').textContent = service.title;
            document.getElementById('serviceModalContent').innerHTML = service.content;
            showModal('serviceModal');
        }

        function showLegalPage(page) {
            const content = APP.legalPages[page];
            if (!content) return;
            
            document.getElementById('legalModalTitle').textContent = content.title;
            document.getElementById('legalModalContent').innerHTML = content.html;
            showModal('legalModal');
        }

        function showForgotPassword() {
            closeModal('authModal');
            showModal('forgotPasswordModal');
        }

        function showSitemap() {
            showModal('sitemapModal');
        }

        function switchToLogin() {
            closeModal('forgotPasswordModal');
            showAuthModal('login');
        }

        // ===== UI UTILITIES =====
        function toggleMobileMenu() {
            const menu = document.getElementById('navMenu');
            const hamburger = document.getElementById('hamburger');
            
            menu.classList.toggle('active');
            
            if (menu.classList.contains('active')) {
                hamburger.innerHTML = '<i class="fas fa-times"></i>';
            } else {
                hamburger.innerHTML = '<i class="fas fa-bars"></i>';
            }
        }

        function closeMobileMenu() {
            const menu = document.getElementById('navMenu');
            const hamburger = document.getElementById('hamburger');
            
            menu.classList.remove('active');
            hamburger.innerHTML = '<i class="fas fa-bars"></i>';
        }

        function scrollToSection(sectionId) {
            const element = document.getElementById(sectionId);
            if (element) {
                const headerHeight = document.getElementById('mainHeader').offsetHeight;
                const offset = element.offsetTop - headerHeight - 20;
                
                window.scrollTo({
                    top: offset,
                    behavior: 'smooth'
                });
                
                // Update active nav link
                document.querySelectorAll('.nav-link').forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href') === `#${sectionId}`) {
                        link.classList.add('active');
                    }
                });
            }
        }

        function animateStatistics() {
            const yearsElement = document.getElementById('yearsExp');
            const projectsElement = document.getElementById('projectsDone');
            const clientsElement = document.getElementById('clientsServed');
            
            animateCounter(yearsElement, 10);
            animateCounter(projectsElement, 250);
            animateCounter(clientsElement, 150);
        }

        function animateCounter(element, target) {
            let current = 0;
            const increment = target / 100;
            const timer = setInterval(() => {
                current += increment;
                element.textContent = Math.floor(current) + '+';
                
                if (current >= target) {
                    element.textContent = target + '+';
                    clearInterval(timer);
                }
            }, 20);
        }

        function showToast(message, type = 'info') {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.className = `toast ${type}`;
            
            toast.classList.add('show');
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 5000);
        }

        function handleScroll() {
            // Header scroll effect
            const header = document.getElementById('mainHeader');
            if (window.scrollY > 100) {
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }
            
            // Back to top button
            const backToTop = document.getElementById('backToTop');
            if (window.scrollY > 300) {
                backToTop.classList.add('visible');
            } else {
                backToTop.classList.remove('visible');
            }
            
            // Update active nav link based on scroll position
            updateActiveNavLink();
        }

        function handleResize() {
            // Close mobile menu on resize to desktop
            if (window.innerWidth > 768) {
                closeMobileMenu();
            }
        }

        function updateActiveNavLink() {
            const sections = ['home', 'about', 'services', 'projects', 'testimonials', 'contact'];
            const headerHeight = document.getElementById('mainHeader').offsetHeight;
            
            let currentSection = '';
            
            sections.forEach(section => {
                const element = document.getElementById(section);
                if (element) {
                    const rect = element.getBoundingClientRect();
                    if (rect.top <= headerHeight + 100 && rect.bottom >= headerHeight + 100) {
                        currentSection = section;
                    }
                }
            });
            
            if (currentSection) {
                document.querySelectorAll('.nav-link').forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href') === `#${currentSection}`) {
                        link.classList.add('active');
                    }
                });
            }
        }

        function updateCopyrightYear() {
            const yearElements = document.querySelectorAll('.copyright-year');
            const currentYear = new Date().getFullYear();
            
            yearElements.forEach(element => {
                if (element.textContent.includes('2025')) {
                    element.textContent = element.textContent.replace('2025', currentYear);
                }
            });
        }

        function checkUserSession() {
            if (APP.isLoggedIn && APP.currentUser) {
                // Check if session is expired (demo: 24 hours)
                const user = JSON.parse(localStorage.getItem('eagle_user'));
                if (user && user.joined) {
                    const joinedDate = new Date(user.joined);
                    const now = new Date();
                    const hoursDiff = (now - joinedDate) / (1000 * 60 * 60);
                    
                    if (hoursDiff > 24) {
                        // Session expired
                        logout();
                    }
                }
            }
        }

        function startAnimations() {
            // Add animation classes to elements on scroll
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('animated');
                    }
                });
            }, observerOptions);
            
            // Observe elements that should animate
            document.querySelectorAll('.service-card, .project-card, .stat-item').forEach(el => {
                observer.observe(el);
            });
        }

        // ===== HELPER FUNCTIONS =====
        function downloadBrochure() {
            showToast('Downloading brochure...', 'info');
            
            // In a real implementation, this would link to an actual PDF
            setTimeout(() => {
                showToast('Brochure downloaded successfully!', 'success');
            }, 1500);
        }

        function openGoogleMaps() {
            const address = encodeURIComponent(CONFIG.SITE.ADDRESS);
            window.open(`https://www.google.com/maps/search/?api=1&query=${address}`, '_blank');
        }

        // ===== LEGAL CONTENT GENERATORS =====
        function getPrivacyPolicy() {
            return {
                title: 'Privacy Policy',
                html: `
                    <div class="legal-section">
                        <h2>Privacy Policy</h2>
                        <p><strong>Last Updated: January 15, 2025</strong></p>
                        
                        <p>Eagle Contractors ("we," "our," or "us") is committed to protecting your privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you visit our website or use our services.</p>
                        
                        <div class="info-box">
                            <p><strong>Important:</strong> By using our website or services, you consent to the data practices described in this policy. If you do not agree with our policies, please do not use our services.</p>
                        </div>
                        
                        <h3>1. Information We Collect</h3>
                        <p>We collect information that you provide directly to us, including:</p>
                        <ul>
                            <li>Personal identification information (name, email address, phone number)</li>
                            <li>Project details and requirements</li>
                            <li>Communication preferences</li>
                            <li>Payment information (processed securely through third-party providers)</li>
                        </ul>
                        
                        <h3>2. How We Use Your Information</h3>
                        <p>We use the collected information for:</p>
                        <ul>
                            <li>Providing and improving our services</li>
                            <li>Communicating with you about your projects</li>
                            <li>Processing transactions</li>
                            <li>Sending promotional materials (with your consent)</li>
                            <li>Complying with legal obligations</li>
                        </ul>
                        
                        <h3>3. Data Security</h3>
                        <p>We implement appropriate technical and organizational security measures to protect your personal information against unauthorized access, alteration, disclosure, or destruction.</p>
                        
                        <h3>4. Your Rights</h3>
                        <p>Depending on your location, you may have the right to:</p>
                        <ul>
                            <li>Access your personal data</li>
                            <li>Correct inaccurate data</li>
                            <li>Request deletion of your data</li>
                            <li>Object to processing of your data</li>
                            <li>Data portability</li>
                            <li>Withdraw consent</li>
                        </ul>
                        
                        <h3>5. Contact Us</h3>
                        <p>For privacy-related questions or to exercise your rights, contact our Data Protection Officer at:</p>
                        <p>Email: privacy@eaglecontractors.com<br>
                        Phone: +254 713 723 639</p>
                    </div>
                `
            };
        }

        function getTermsAndConditions() {
            return {
                title: 'Terms & Conditions',
                html: `
                    <div class="legal-section">
                        <h2>Terms & Conditions</h2>
                        <p><strong>Last Updated: January 15, 2025</strong></p>
                        
                        <p>Welcome to Eagle Contractors. These Terms & Conditions govern your use of our website and services.</p>
                        
                        <h3>1. Acceptance of Terms</h3>
                        <p>By accessing and using our website, you accept and agree to be bound by these Terms. If you disagree, you may not use our services.</p>
                        
                        <h3>2. Services</h3>
                        <p>We provide construction, renovation, and project management services. All services are subject to separate written agreements that specify scope, timeline, and pricing.</p>
                        
                        <h3>3. User Responsibilities</h3>
                        <p>You agree to:</p>
                        <ul>
                            <li>Provide accurate information</li>
                            <li>Maintain account security</li>
                            <li>Use services legally and ethically</li>
                            <li>Not interfere with website operation</li>
                        </ul>
                        
                        <h3>4. Payments</h3>
                        <p>Payment terms are specified in service agreements. We accept various payment methods and issue detailed invoices.</p>
                        
                        <h3>5. Intellectual Property</h3>
                        <p>All website content, including logos, designs, and text, are our property or licensed to us. You may not reproduce or distribute content without permission.</p>
                        
                        <h3>6. Limitation of Liability</h3>
                        <p>To the maximum extent permitted by law, we shall not be liable for indirect, incidental, or consequential damages arising from your use of our services.</p>
                        
                        <h3>7. Governing Law</h3>
                        <p>These Terms are governed by the laws of Kenya. Disputes shall be resolved in courts of competent jurisdiction in Nairobi.</p>
                        
                        <h3>8. Changes to Terms</h3>
                        <p>We may modify these Terms at any time. Continued use after changes constitutes acceptance.</p>
                        
                        <h3>9. Contact Information</h3>
                        <p>For questions about these Terms, contact us at:</p>
                        <p>Email: legal@eaglecontractors.com<br>
                        Phone: +254 713 723 639</p>
                    </div>
                `
            };
        }

        function getCookiePolicy() {
            return {
                title: 'Cookie Policy',
                html: `
                    <div class="legal-section">
                        <h2>Cookie Policy</h2>
                        <p><strong>Last Updated: January 15, 2025</strong></p>
                        
                        <p>This Cookie Policy explains how Eagle Contractors uses cookies and similar technologies on our website.</p>
                        
                        <h3>1. What Are Cookies?</h3>
                        <p>Cookies are small text files stored on your device when you visit websites. They help websites remember information about your visit.</p>
                        
                        <h3>2. How We Use Cookies</h3>
                        <p>We use cookies for:</p>
                        <ul>
                            <li><strong>Essential Cookies:</strong> Required for website functionality</li>
                            <li><strong>Analytics Cookies:</strong> Help us understand how visitors use our website</li>
                            <li><strong>Preference Cookies:</strong> Remember your settings and preferences</li>
                            <li><strong>Marketing Cookies:</strong> Used to show relevant advertisements</li>
                        </ul>
                        
                        <h3>3. Third-Party Cookies</h3>
                        <p>We may use third-party services that set their own cookies, including:</p>
                        <ul>
                            <li>Google Analytics for website analytics</li>
                            <li>Social media platforms for sharing features</li>
                            <li>Advertising networks for relevant ads</li>
                        </ul>
                        
                        <h3>4. Managing Cookies</h3>
                        <p>You can control cookies through:</p>
                        <ul>
                            <li>Browser settings (most browsers allow you to refuse cookies)</li>
                            <li>Our cookie consent banner when you first visit</li>
                            <li>Third-party opt-out tools for advertising cookies</li>
                        </ul>
                        
                        <p><strong>Note:</strong> Disabling certain cookies may affect website functionality.</p>
                        
                        <h3>5. Updates to This Policy</h3>
                        <p>We may update this Cookie Policy periodically. We will notify you of significant changes by updating the date at the top.</p>
                        
                        <h3>6. Contact Us</h3>
                        <p>For questions about our use of cookies, contact us at:</p>
                        <p>Email: privacy@eaglecontractors.com<br>
                        Phone: +254 713 723 639</p>
                    </div>
                `
            };
        }

        // ===== GLOBAL FUNCTIONS =====
        // Make functions available globally for onclick handlers
        window.showAuthModal = showAuthModal;
        window.switchAuthTab = switchAuthTab;
        window.showForgotPassword = showForgotPassword;
        window.switchToLogin = switchToLogin;
        window.showGalleryModal = showGalleryModal;
        window.viewImage = viewImage;
        window.showServiceModal = showServiceModal;
        window.showLegalPage = showLegalPage;
        window.showSitemap = showSitemap;
        window.closeModal = closeModal;
        window.scrollToSection = scrollToSection;
        window.filterProjects = filterProjects;
        window.loadMoreProjects = loadMoreProjects;
        window.showProjectDetails = showProjectDetails;
        window.prevTestimonial = prevTestimonial;
        window.nextTestimonial = nextTestimonial;
        window.goToTestimonial = goToTestimonial;
        window.logout = logout;
        window.downloadBrochure = downloadBrochure;
        window.openGoogleMaps = openGoogleMaps;

        // Back to top functionality
        document.getElementById('backToTop').addEventListener('click', () => {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // Initialize on load
        console.log('üèóÔ∏è Eagle Contractors Website Loaded Successfully!');
    </script>
</body>
</html>